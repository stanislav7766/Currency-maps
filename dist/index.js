!function(n){var t={};function e(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var a in n)e.d(r,a,function(t){return n[t]}.bind(null,a));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=13)}([function(n,t){n.exports=require("@babel/runtime/regenerator")},function(n,t){n.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(n,t){n.exports=require("axios")},function(n,t){n.exports=require("dotenv")},function(n,t){n.exports=require("moment")},function(n,t){n.exports=require("winston")},function(n,t){n.exports=require("@babel/runtime/helpers/objectSpread")},function(n,t){n.exports=require("@babel/runtime/helpers/typeof")},function(n,t){n.exports=require("html-table-to-json")},function(n,t){n.exports=require("telegraf/markup")},function(n,t){n.exports=require("winston-telegram")},function(n,t){n.exports=require("telegraf")},function(n,t){n.exports=require("urlencode")},function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),o=e(1),c=e.n(o),i=e(11),u=e.n(i),s=e(9),p=e.n(s),l=e(3),f=e.n(l),k=e(6),y=e.n(k),h=e(5),d=e(10),m=e.n(d),v=e(4),g=e.n(v),b=function(){return"bot-exchange-rates-telegram"},x=function(){return"ÐŸÑ€Ð¸Ð²ÐµÑ‚ ðŸ‘‹\n\nÐ¯ Ð³Ð¾Ñ‚Ð¾Ð² Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ‚ÐµÐ±Ðµ Ñ Ñ‚Ð²Ð¾ÐµÐ¹ Ð·Ð°Ð´Ð°Ñ‡ÐµÐ¹\n \nÐ’Ð¾Ñ‚, Ñ‡Ñ‚Ð¾ Ñ Ð¼Ð¾Ð³Ñƒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ: \n\nðŸ‘‰ Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹ Ð²Ð°Ð»ÑŽÑ‚Ñƒ Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ(Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð°/Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ° Ð²Ð°Ð»ÑŽÑ‚Ñ‹) Ð¸ Ñ Ð¿Ð¾Ð¼Ð¾Ð³Ñƒ Ð½Ð°Ð¹Ñ‚Ð¸ Ð±Ð°Ð½ÐºÐ¸ Ñ ÑÐ°Ð¼Ñ‹Ð¼ Ð²Ñ‹Ð³Ð¾Ð´Ð½Ñ‹Ð¼ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ ÐºÑƒÑ€ÑÐ¾Ð¼ ðŸ‘Œ"},B=function(){return"Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð²Ð°Ð»ÑŽÑ‚Ñƒ ðŸ’¶, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¶ÐµÐ»Ð°ÐµÑˆÑŒ ÐºÑƒÐ¿Ð¸Ñ‚ÑŒ/Ð¿Ñ€Ð¾Ð´Ð°Ñ‚ÑŒ ðŸ’°"},C=function(){return"Ð£ÐºÐ°Ð¶Ð¸,Ñ‡Ñ‚Ð¾ Ñ‚ÐµÐ±Ñ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚ Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð° Ð¸Ð»Ð¸ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ° Ð²Ð°Ð»ÑŽÑ‚Ñ‹? ðŸ§"},w=function(n){return"ÐžÐºÐµÐ¹, Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð° Ð²Ð°Ð»ÑŽÑ‚Ð° - ".concat(n," ðŸ‘Œ ðŸ¤")},A=function(n){return"ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾â•\n\nÐ’Ñ‹Ð±Ñ€Ð°Ð½Ð¾ - ".concat(n," Ð²Ð°Ð»ÑŽÑ‚Ñ‹ ðŸ˜‰")},E=function(n){return"ÐÑƒ Ñ‡Ñ‚Ð¾ Ð¶Ðµ, ÑƒÐºÐ°Ð¶Ð¸ Ð² ÐºÐ°ÐºÐ¾Ð¼ Ð³Ð¾Ñ€Ð¾Ð´Ðµ Ñ‚ÐµÐ±Ñ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚ ".concat(n," Ð²Ð°Ð»ÑŽÑ‚Ñ‹ Ð¸Ð»Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒ Ð¼Ð½Ðµ ÑÐ²Ð¾ÑŽ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸ÑŽ ðŸ¤“")},O=function(n){return"Ð¥Ð¼Ð¼, ÑƒÐ¶Ðµ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð° Ð²Ð°Ð»ÑŽÑ‚Ð° - ".concat(n," ðŸ¤·â€â™‚ï¸ \n\nÐ¥Ð¾Ñ‡ÐµÑˆÑŒ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð½Ð° Ð´Ñ€ÑƒÐ³ÑƒÑŽ? ðŸ˜²")},P=function(n){return"Ð¥Ð¼Ð¼, ÑƒÐ¶Ðµ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ - ".concat(n," Ð²Ð°Ð»ÑŽÑ‚Ñ‹ ðŸ¤·â€â™‚ï¸ \n\nÐ–ÐµÐ»Ð°ÐµÑˆÑŒ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ? ðŸ˜")},K=function(){return"Ð¥Ð¼Ð¼, Ñƒ Ð½Ð°Ñ ÑÐµÐ¹Ñ‡Ð°Ñ Ð½ÐµÐ¿Ð¾Ð»Ð°Ð´ÐºÐ¸, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ Ñ‡ÑƒÑ‚ÑŒ Ð¿Ð¾Ð·Ð¶Ðµ("},U=function(n){return"Ð¢Ð°ÐºÑ, Ð²Ñ‹ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÐµÑÑŒ Ð² ".concat(n,"?")};f.a.config();var _=h.format,I=_.combine,S=_.label,D=_.printf,M=_.colorize,T=_.timestamp,L=b(),N=g()().format("MM-DD-YY H:mm:ss"),R=D(function(n){return"[".concat(n.label,"]: ").concat(n.message," | ").concat(n.timestamp)}),q=y()({},h.config.syslog.levels,{mail:8,telegram_technical:9,telegram_sales:10});h.addColors({error:"red",warn:"yellow",info:"cyan",verbose:"blue",debug:"white",silly:"white"});h.createLogger({levels:q,transports:[new h.transports.Console({level:"info",timestamps:!0,format:I(S({label:L}),M({all:!0}),T({format:N}),R)}),new m.a({level:"telegram_technical",template:"[".concat(L,"]: {message} | ").concat(N),token:process.env.INFO_BOT_TOKEN,chatId:process.env.CHAT_ID_TECHNICAL,unique:!0}),new m.a({level:"telegram_sales",template:"[".concat(L,"]: {message} | ").concat(N),token:process.env.INFO_BOT_TOKEN,chatId:process.env.CHAT_ID_SALES,unique:!0})]});var j="share_location",Y="check_city",G="Ð”Ð°, ÑƒÐºÐ°Ð·Ð°Ð½ Ð²ÐµÑ€Ð½Ñ‹Ð¹ Ð³Ð¾Ñ€Ð¾Ð´",H="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð²Ð°Ð»ÑŽÑ‚Ñƒ",F="choosen_currency",z="ÐÐ°Ð¹Ñ‚Ð¸ Ð²Ñ‹Ð³Ð¾Ð´Ð½Ñ‹Ðµ Ð±Ð°Ð½ÐºÐ¸",W="choosen_buy_or_sell",J="ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð°/ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ°",V="ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð°",X="ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ°",Z="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ð²Ð°Ð»ÑŽÑ‚Ñƒ",$="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ",Q="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ð²Ð°Ð»ÑŽÑ‚Ñƒ",nn="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ",tn="/conversation_started",en="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´",rn={USD:"USD",EUR:"EUR",RUB:"RUB",CHF:"CHF",GBP:"GBP",AUD:"AUD",CAD:"CAD",CZK:"CZK",DKK:"DKK",JPY:"JPY",NOK:"NOK",PLN:"PLN",SEK:"SEK",HUF:"HUF",BGL:"BGL"},an=function(){return[["Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð²Ð°Ð»ÑŽÑ‚Ñƒ"],["ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð°/ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ°"],["ÐÐ°Ð¹Ñ‚Ð¸ Ð²Ñ‹Ð³Ð¾Ð´Ð½Ñ‹Ðµ Ð±Ð°Ð½ÐºÐ¸"]]},on=function(){return[["USD"],["EUR"],["RUB"],["CHF"],["GBP"],["AUD"],["CAD"],["CZK"],["DKK"],["JPY"],["NOK"],["PLN"],["SEK"],["HUF"],["BGL"],["Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´"]]},cn=function(){return[["Ð”Ð°, ÑƒÐºÐ°Ð·Ð°Ð½ Ð²ÐµÑ€Ð½Ñ‹Ð¹ Ð³Ð¾Ñ€Ð¾Ð´"],["Ð¥Ð¼Ð¼, Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°, Ñ ÑƒÐºÐ°Ð¶Ñƒ Ð½ÑƒÐ¶Ð½Ñ‹Ð¹ Ð³Ð¾Ñ€Ð¾Ð´"],["Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´"]]},un=function(){return[["ÐŸÑ€Ð¾Ð´Ð°Ð¶Ð°"],["ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ°"],["Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´"]]},sn=function(){return[["Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ð²Ð°Ð»ÑŽÑ‚Ñƒ"],["Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´"]]},pn=function(){return[["Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ"],["Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´"]]},ln=function(){return[["Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´"]]};function fn(){this.events={},this.ctx={command:"",keyboard:"",papyrus:"",currency:"",action:"",latitude:"",longitude:"",city:""}}function kn(){this.nodes=[]}function yn(n,t){this.data=n,this.children=[],this.parent=t,t&&t.children.push(this)}fn.prototype.getCurrency=function(){return this.ctx.currency},fn.prototype.setCurrency=function(n){this.ctx.currency=n},fn.prototype.getLocation=function(){return{latitude:this.ctx.latitude,longitude:this.ctx.longitude}},fn.prototype.setLocation=function(n){this.ctx.latitude=n.latitude,this.ctx.longitude=n.longitude},fn.prototype.getAction=function(){return this.ctx.action},fn.prototype.setAction=function(n){this.ctx.action=n},fn.prototype.getCity=function(){return this.ctx.city},fn.prototype.setCity=function(n){this.ctx.city=n},fn.prototype.clearContext=function(){var n=this;Object.keys(this.ctx).forEach(function(t){return n.ctx[t]=""})},fn.prototype.on=function(n,t){var e=this.events[n];e?e.push(t):this.events[n]=[t]},fn.prototype.emit=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var a=this.events[n];a&&a.forEach(function(n){return n.apply(void 0,e)})},fn.prototype.setContext=function(n){this.ctx=y()({},this.getContext(),n)},fn.prototype.getContext=function(){return this.ctx},kn.prototype.insert=function(n,t){var e={};t?(e=this.nodes.find(function(n){return n.data.command===t?n:null}),this.nodes.push(new yn(n,void 0!==e&&0!==this.nodes.length?e:null))):this.nodes.push(new yn(n,null))},kn.prototype.searchContext=function(n){return this.nodes.find(function(t){return t.data.command===n?t:null})},kn.prototype.getCurrentCtx=function(n){var t=this.searchContext(n);return t?t.data:null},kn.prototype.getParentOfCurContext=function(n){var t=this.searchContext(n);return t&&t.parent?t.parent.data:null};var hn=new fn,dn=new kn;hn.on("changeContext",function(n){return hn.setContext(n)});var mn=e(7),vn=e.n(mn),gn={isEmpty:function(n){return null==n||"object"===vn()(n)&&0===Object.keys(n).length||"string"==typeof n&&0===n.trim().length||"function"==typeof n&&0===n.length||Array.isArray(n)&&0===n.length||n instanceof Error&&""===n.message},isCurrency:function(n){return Object.keys(rn).includes(n)},isBuyOrSell:function(n){return n===X||n===V}};dn.insert({command:tn,keyboard:an(),papyrus:x()}),dn.insert({command:H,keyboard:on(),papyrus:B()},tn),dn.insert({command:Z,keyboard:sn(),papyrus:function(n){return O(n)}},tn),dn.insert({command:J,keyboard:un(),papyrus:C()},tn),dn.insert({command:$,keyboard:pn(),papyrus:function(n){return P(n)}},tn),dn.insert({command:F,keyboard:ln(),papyrus:function(n){return w(n)}},tn),dn.insert({command:W,keyboard:ln(),papyrus:function(n){return A(n)}},tn),dn.insert({command:z,keyboard:[],papyrus:function(n){return E(n)}},tn),dn.insert({command:Y,keyboard:cn(),papyrus:function(n){return U(n)}},z);var bn=dn,xn=e(2),Bn=e.n(xn),Cn=e(8),wn=e.n(Cn),An={"3/4":["Bank 3/4","3/4"],"A-Bank":["A-Bank","Ð-Ð‘Ð°Ð½Ðº","Ð-Ð‘ÐÐÐš","Aktsent-Bank","Ð Ð‘Ð°Ð½Ðº","Ð-Ð±Ð°Ð½Ðº"],Akkordbank:["akord bank","Akord Bank","Akordbank","ÐÐºÐ¾Ñ€Ð´Ð±Ð°Ð½Ðº"],"Alfa-Bank":["Alpha-Bank","Alfa Bank","Alfa-Bank","AlfaBank","AlÊ¹fa-Bank"],Arcade:["Bank Arcada","Arkada","Ð°Ñ€ÐºÐ°Ð´"],Alliance:['At "Bank AlÊ¹yans"',"Ð‘Ð°Ð½Ðº ÐÐ»ÑÐ½Ñ"],"ASVIO BANK":["Asvio Bank","ÐÑÐ²Ñ–Ð¾ Ð‘Ð°Ð½Ðº","ÐÑÐ²Ð¸Ð¾ Ð‘Ð°Ð½Ðº"],"BTA Bank":["BTA BANK","Ð‘Ð¢Ð Ð‘Ð°Ð½Ðº"],"CLEARING HOUSE":["Clearing House"],"Commercial Industrial Bank":["Komertsiynyy IndustrialÊ¹nyy Bank","Komertsinyy IndustrialÊ¹nyy Bank","ComInBank"],"Credit Agricole":["Credit Agricole","ÐšÑ€ÐµÐ´Ñ– ÐÐ³Ñ€Ñ–ÐºÐ¾Ð»ÑŒ","Kredi Ahrikol"],"CREDIT DNEPR":["Credit Dnepr"],"Credit Europe Bank":["Credit Europe Bank","Kredyt Europe Bank"],"CREDITWEST BANK":["Creditwest Bank"],East:["East Bank"],EVROPROMBANK:["evroprombank","Ð•Ð²Ñ€Ð¾Ð¿Ñ€Ð¾Ð¼Ð±Ð°Ð½Ðº"],Family:["family bank","Ð¤Ð°Ð¼Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð±Ð°Ð½Ðº"],Globe:["Globe bank"],"First Investment Bank":["pinbank","ÐŸÐ•Ð Ð¨Ð˜Ð™ Ð†ÐÐ’Ð•Ð¡Ð¢Ð˜Ð¦Ð†Ð™ÐÐ˜Ð¦ Ð‘ÐÐÐš","PinBank"],Grant:["grant bank","Ð“Ñ€Ð°Ð½Ñ‚ Ð‘Ð°Ð½Ðº"],"Idea Bank (Plus Bank)":["idea Bank","Idea Bank","Idea bank","IdeaBank"],Industrialbank:["Industrialbank","Ð†ÐÐ”Ð£Ð¡Ð¢Ð Ð†ÐÐ›Ð‘ÐÐÐš"],"International investment bank":["International Investment Bank"],Lions:["Lions Bank"],KomInvestBank:["KomInvestBank","Kominvestbank"],Kredobank:["Kredobank","KredoBank","ÐšÑ€ÐµÐ´Ð¾Ð‘Ð°Ð½Ðº","ÐšÑ€ÐµÐ´Ð¾Ð±Ð°Ð½Ðº"],Megabank:["Megabank","Mehabank","MegaBank"],"MOTOR-BANK":["Motor Bank","ÐœÐžÐ¢ÐžÐ -Ð‘ÐÐÐš","ÐœÐ¾Ñ‚Ð¾Ñ€-Ð±Ð°Ð½Ðº","ÐœÐ¾Ñ‚Ð¾Ñ€ Ð‘Ð°Ð½Ðº"],"Pravex-Bank":["Pravex Bank","Praveks-Bank","ÐŸÑ€Ð°Ð²ÐµÐºÑ Ð‘Ð°Ð½Ðº","ÐŸÐ ÐÐ’Ð­ÐšÐ¡-Ð‘ÐÐÐš","Pravex-Bank","Pravex-bank"],Radabank:["Radabank","Ð ÐÐ”ÐÐ‘ÐÐÐš","Ð Ð°Ð´Ð°Ð±Ð°Ð½Ðº"],"OTP Bank":["Otp Bank","Otpbank","OTP Ð‘Ð°Ð½Ðº","ÐžÐ¢ÐŸ Ð‘Ð°Ð½Ðº","OTP Bank","Otp"],Oschadbank:["Oschadbank"],"OXY BANK":["Oksi Bank"],"Piraeus Bank ICB":["Piraeus Bank","ÐŸÑ–Ñ€ÐµÑƒÑ Ð‘Ð°Ð½Ðº","Pireus Bank"],PIVDENNY:["Pivdennyi","ÐŸÐ˜Ð’Ð”Ð•ÐÐÐ«Ð™","Pivdennyy","Pivdenniy"],PrivatBank:["Privatbank","Pryvatbank","PrivatBank"],Prominvestbank:["Prominvestbank","ÐŸÐ ÐžÐœÐ˜ÐÐ’Ð•Ð¡Ð¢Ð‘ÐÐÐš"],"Raiffeisen Bank Aval":["Rayffayzen","Raiffeisen"],Sich:["Sich"],TASkombank:["Taskombank"],"Trust Capital":["Trast-Capital","Ð¢Ñ€Ð°ÑÑ‚-ÐºÐ°Ð¿Ñ–Ñ‚Ð°Ð»"],"Ukrainian Building and Investment Bank":["Ukrbudinvestbank","Ð£ÐšÐ ÐÐ˜ÐÐ¡ÐšÐ˜Ð™ Ð¡Ð¢Ð ÐžÐ˜Ð¢Ð•Ð›Ð¬ÐÐž-Ð˜ÐÐ’Ð•Ð¡Ð¢Ð˜Ð¦Ð˜ÐžÐÐÐ«Ð™ Ð‘ÐÐÐš ÐŸÐÐž"],UGB:["ukrgazbank","Ukrhazbank"],"Ukrainian Capital":["Ukrainian capital"],Ukreximbank:["Ukreximbank","UkrEximBank","Ukreksimbank"],UkrSibbank:["Ukrsibbank","UkrSibBank","UkrSibbank","UKRSIBBANK","Ð£ÐšÐ Ð¡Ð˜Ð‘Ð‘ÐÐÐš"],"Unex Bank":["Unex Bank","Ð®Ð½ÐµÐºÑ Ð‘Ð°Ð½Ðº","UNEX BANK"],"Universal Bank":["Universal Bank","monobank"]};e(12);f.a.config();var En=function(){var n=c()(a.a.mark(function n(t,e,r){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=bn.getCurrentCtx(t),hn.emit("changeContext",o),n.next=5,e(o.papyrus,r(o.keyboard));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t,e,r){return n.apply(this,arguments)}}(),On=function(){var n=c()(a.a.mark(function n(t,e,r,o){var c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=bn.getCurrentCtx(t),hn.emit("changeContext",c),n.next=5,r(c.papyrus(e),o(c.keyboard));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t,e,r,a){return n.apply(this,arguments)}}(),Pn=function(){var n=c()(a.a.mark(function n(t,e){var r,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=hn.getContext(),o={},!gn.isEmpty(r.command)&&r.command!==tn){n.next=7;break}En(tn,t,e),n.next=10;break;case 7:return o=bn.getParentOfCurContext(r.command),n.next=10,t(o.papyrus,e(o.keyboard));case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}},n,null,[[0,12]])}));return function(t,e){return n.apply(this,arguments)}}(),Kn=function(){var n=c()(a.a.mark(function n(t,e){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{En(tn,t,e)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}(),Un=function(){var n=c()(a.a.mark(function n(t,e,r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{gn.isEmpty(hn.getCurrency())||gn.isEmpty(hn.getAction())?En(gn.isEmpty(hn.getCurrency())?H:J,e,r):On(t,hn.getAction(),e,r)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),_n=function(){var n=c()(a.a.mark(function n(t,e,r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{!gn.isEmpty(hn.getAction())&&gn.isBuyOrSell(hn.getAction())?On($,hn.getAction(),e,r):En(t,e,r)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),In=function(){var n=c()(a.a.mark(function n(t,e,r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{!gn.isEmpty(hn.getCurrency())&&gn.isCurrency(hn.getCurrency())?On(Z,hn.getCurrency(),e,r):En(t,e,r)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),Sn=function(){var n=c()(a.a.mark(function n(t,e){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{En(H,t,e)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}(),Dn=function(){var n=c()(a.a.mark(function n(t,e){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{En(J,t,e)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}();function Mn(n){return n*Math.PI/180}function Tn(n,t,e,r){var a=Mn(e-n),o=Mn(r-t),c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(Mn(n))*Math.cos(Mn(e))*Math.sin(o/2)*Math.sin(o/2),i=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return Number(6371e3*i)}var Ln=function(){var n=c()(a.a.mark(function n(t,e,r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{gn.isCurrency(t)&&hn.setCurrency(t),On(F,t,e,r)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),Nn=function(){var n=c()(a.a.mark(function n(t,e,r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{gn.isBuyOrSell(t)&&hn.setAction(t),On(W,t,e,r)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),Rn=function(n,t){return!gn.isEmpty(An[n])&&t.every(function(t){return An[n].every(function(n){return!new RegExp("[s\"-?!#$%^&*()'Ê¹w]*(".concat(n,")"),"ig").test(t.name)||!(Tn(hn.getLocation().latitude,hn.getLocation().longitude,t.geometry.location.lat,t.geometry.location.lng)<=2e4)&&(console.log(t.name,">=20000",Tn(hn.getLocation().latitude,hn.getLocation().longitude,t.geometry.location.lat,t.geometry.location.lng)),!0)})})};function qn(n,t){return jn.apply(this,arguments)}function jn(){return(jn=c()(a.a.mark(function n(t,e){var r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bn.a.get("https://maps.googleapis.com/maps/api/place/textsearch/json?query=Ukraine+".concat(hn.getCity(),"&key=").concat(process.env.GOOGLE_PLACES_API_KEY));case 2:if(r=n.sent,console.log(r.data.results[0]),gn.isEmpty(r.data.results)){n.next=24;break}return console.log(t,"------------",r.data.results.map(function(n){return n.name})),n.t0=console,n.t1=Rn,n.t2=t.Bank,n.next=11,r.data.results;case 11:return n.t3=n.sent,n.t4=!(0,n.t1)(n.t2,n.t3),n.t0.log.call(n.t0,n.t4),n.t5=Rn,n.t6=t.Bank,n.next=18,r.data.results;case 18:if(n.t7=n.sent,(0,n.t5)(n.t6,n.t7)){n.next=23;break}e.push(t),n.next=24;break;case 23:console.log(t.Bank,"empty res");case 24:case"end":return n.stop()}},n)}))).apply(this,arguments)}var Yn=function(){var n=c()(a.a.mark(function n(t){var e,r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=function(){return(r=c()(a.a.mark(function n(r){var o,c,i,u,s,p;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,o=!0,c=!1,i=void 0,n.prev=4,u=r[Symbol.iterator]();case 6:if(o=(s=u.next()).done){n.next=13;break}return p=s.value,n.next=10,qn(p,e);case 10:o=!0,n.next=6;break;case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(4),c=!0,i=n.t0;case 19:n.prev=19,n.prev=20,o||null==u.return||u.return();case 22:if(n.prev=22,!c){n.next=25;break}throw i;case 25:return n.finish(22);case 26:return n.finish(19);case 27:console.log("Done!"),console.log("test",e.length,e),console.log("banks",t.length,t),n.next=35;break;case 32:n.prev=32,n.t1=n.catch(0),console.log("err",n.t1);case 35:case"end":return n.stop()}},n,null,[[0,32],[4,15,19,27],[20,,22,26]])}))).apply(this,arguments)},e=[],function(n){return r.apply(this,arguments)}(t);case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),Gn=function(){var n=c()(a.a.mark(function n(t,e){var r,o,c,i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Bn.a.get("https://cxrate.com/en/banks/".concat(hn.getCurrency().toLowerCase(),"/").concat(g()(new Date).format("YYYY-MM-DD")));case 3:return r=n.sent,o=r.data.match(/(<table[^>]*>(?:.|\n)*?<\/table>)/)[1],c=new wn.a(o),(t=c.results[0]).forEach(function(n){return Object.keys(n).forEach(function(t){return"Bank"!==t&&(n[t]=n[t].match(/([0-9]*[.])?[0-9]+/)[0])})}),i=t,n.next=9,Yn(i);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}var t},n,null,[[0,11]])}));return function(t,e){return n.apply(this,arguments)}}(),Hn=function(){var n=c()(a.a.mark(function n(t,e,r){var o,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(""===hn.getLocation().latitude||""===hn.getLocation.longitude)&&hn.setLocation(t),n.next=5,Bn.a.get("https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=".concat(t.latitude,",").concat(t.longitude,"&radius=2000&key=").concat(process.env.GOOGLE_PLACES_API_KEY));case 5:o=n.sent,c=o.data.results[0].name,!gn.isEmpty(c)&&hn.setCity(c),On(Y,c,e,r),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),hn.emit("changeContext",bn.getCurrentCtx(tn)),e(K(),hn.getContext().keyboard);case 15:case"end":return n.stop()}},n,null,[[0,11]])}));return function(t,e,r){return n.apply(this,arguments)}}(),Fn=new Map;Fn.set(en,function(n,t,e){return Pn(t,e)}),Fn.set(tn,function(n,t){return Kn(n,t)}),Fn.set(H,function(n,t,e){return In(n,t,e)}),Fn.set(J,function(n,t,e){return _n(n,t,e)}),Fn.set(F,function(n,t,e){return Ln(n,t,e)}),Fn.set(W,function(n,t,e){return Nn(n,t,e)}),Fn.set(z,function(n,t,e){return Un(n,t,e)}),Fn.set(Q,function(n,t,e){return Sn(t,e)}),Fn.set(nn,function(n,t,e){return Dn(t,e)}),Fn.set(j,function(n,t,e){return Hn(n,t,e)}),Fn.set(G,function(n,t,e){return Gn(t,e)}),f.a.config();var zn=process.env.APP_PORT,Wn=new u.a(process.env.BOT_ACCOUNT_TOKEN),Jn=function(){return p.a.keyboard.apply(p.a,arguments).oneTime().resize().extra()};try{Wn.telegram.setWebhook(process.env.EXPOSE_URL),Wn.startWebhook("/",null,zn)}catch(n){console.log(n),Wn.telegram.deleteWebhook()}Wn.start(function(){var n=c()(a.a.mark(function n(t){var e;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{e=function(){return t.reply.apply(t,arguments)},Fn.has(tn)&&Fn.get(tn)(e,Jn)}catch(n){console.log(n)}case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()),Wn.hears("test",function(){var n=c()(a.a.mark(function n(t){var e,r,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bn.a.get("https://cxrate.com/en/banks/usd/".concat(g()(new Date).format("YYYY-MM-DD")));case 2:e=n.sent,r=e.data.match(/(<table[^>]*>(?:.|\n)*?<\/table>)/)[1],o=new wn.a(r),(t=o.results[0]).forEach(function(n){return Object.keys(n).forEach(function(t){return"Bank"!==t&&(n[t]=n[t].match(/([0-9]*[.])?[0-9]+/)[0])})}),t;case 6:case"end":return n.stop()}var t},n)}));return function(t){return n.apply(this,arguments)}}()),Wn.on("location",function(){var n=c()(a.a.mark(function n(t){var e,r,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=function(){return t.reply.apply(t,arguments)},r=t.message,o=r.location,r.from,Fn.has(j)&&Fn.get(j)(o,e,Jn);case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()),Wn.on("message",function(){var n=c()(a.a.mark(function n(t){var e,r,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=function(){return t.reply.apply(t,arguments)},r=t&&t.message,o=r.text,Fn.has(o)?Fn.get(o)(o,e,Jn):gn.isCurrency(o)?Fn.has(F)&&Fn.get(F)(o,e,Jn):gn.isBuyOrSell(o)&&Fn.has(W)&&Fn.get(W)(o,e,Jn);case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()),Wn.catch(function(n){return console.log(n)}),Wn.launch()}]);